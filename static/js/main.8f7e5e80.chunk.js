(this["webpackJsonpwishlist-ace-tate"]=this["webpackJsonpwishlist-ace-tate"]||[]).push([[0],{35:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),i=c(29),a=c.n(i),s=(c(35),c(10)),o=c(8);var l=c(13),u=c(2),d=c(15),j=c.n(d);var f=c.p+"static/media/logo.c7ae4593.svg",b=c.p+"static/media/btn_like.9319ea68.svg",h=c.p+"static/media/btn_like_active.c85b155f.svg",m=c(1);function v(e){var t=e.frame,c=e.favourites,r=e.addFavourite,i=e.removeFavourite,a=e.location,s=Object(n.useState)(!1),l=Object(o.a)(s,2),u=l[0],d=l[1],j=Object(n.useRef)();return Object(n.useEffect)((function(){"/wishlist"!==a&&c.includes(t.id)&&(d(!0),j.current.src=h)}),[]),Object(m.jsxs)("div",{id:t.id,className:"product-card_container",children:[Object(m.jsx)("div",{className:"product-card_image",children:Object(m.jsx)("img",{src:void 0===t.frontImageUrl?f:t.frontImageUrl,alt:"".concat(t.name," frames in ").concat(t.color)})}),Object(m.jsxs)("div",{className:"product-card",children:["/wishlist"!==a&&Object(m.jsx)("div",{onClick:function(){u||(r(t.id),d((function(e){return!e})),j.current.src=h),u&&(i(t.id),d((function(e){return!e})),j.current.src=b)},tabIndex:"0",role:"button",children:Object(m.jsx)("img",{ref:j,src:b,alt:""})}),Object(m.jsxs)("div",{className:"card-description",title:"".concat(t.name," ").concat(t.color),children:[Object(m.jsx)("strong",{children:t.name}),Object(m.jsxs)("span",{children:[" ",t.color]})]})]})]})}function O(e){var t=e.frames,c=e.favourites,n=e.addFavourite,r=e.removeFavourite;return Object(m.jsxs)("div",{className:"main",children:[Object(m.jsxs)("div",{className:"product-header",children:[Object(m.jsx)("h1",{children:"Full glasses collection"}),Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Eyewear for every side of you, thoughtfully designed in Amsterdam. Browse our full collection of prescription glasses online. Starting from \u20ac100 including prescription lenses."})})]}),Object(m.jsx)("div",{className:"product-grid",children:t.map((function(e){return Object(m.jsx)(v,{frame:e,favourites:c,addFavourite:n,removeFavourite:r},e.id)}))})]})}function x(e){var t=e.frames,c=e.favourites,n=Object(u.f)(),r=t.reduce((function(e,t){var n=t.id,r=t.name,i=t.color,a=t.frontImageUrl;return c.includes(n)&&e.push({id:n,name:r,color:i,frontImageUrl:a}),e}),[]);return console.log(n.pathname),Object(m.jsxs)("div",{className:"main",children:[Object(m.jsxs)("div",{className:"wishlist product-header",children:[Object(m.jsx)("h1",{children:"Wishlist"}),Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Welcome to your Wishlist. Your favourites all in one place."})})]}),Object(m.jsx)("div",{className:"product-grid",children:r.map((function(e){return Object(m.jsx)(v,{frame:e,location:n.pathname,favourites:c},e.id)}))})]})}c(60);function p(){var e=function(e,t){var c=Object(n.useState)((function(){var c=window.localStorage.getItem(t);return null!==c?JSON.parse(c):e})),r=Object(o.a)(c,2),i=r[0],a=r[1];return Object(n.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,a]}([],"favourites"),t=Object(o.a)(e,2),c=t[0],r=t[1],i=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(!0),a=Object(o.a)(i,2),l=a[0],u=a[1],d=Object(n.useState)(!1),f=Object(o.a)(d,2),b=f[0],h=f[1];return Object(n.useEffect)((function(){r([])}),[]),Object(n.useEffect)((function(){var e;return console.log("I was fetched"),u(!0),h(!1),j()({method:"GET",url:"".concat("https://www.aceandtate.show/torii/catalog/v1/products/exploded/frames?country-code=nl&language-code=en"),cancelToken:new j.a.CancelToken((function(t){return e=t}))}).then((function(e){var t=e.data.data.filter((function(e){return!0===e.currentVariant.availability.isAvailableOnline}));r((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t.map((function(e){var t=e.currentVariant,c=t.id,n=t.name,r=t.displayAttributes.color,i=t.images.front;return{id:c,name:n,color:r,frontImageUrl:(i=void 0===i?"":i).url}}))))})),u(!1)})).catch((function(e){j.a.isCancel(e)||h(!0)})),function(){return e()}}),[]),{loading:l,error:b,frames:c}}().frames;return Object(m.jsx)(l.a,{basename:"/wishlist-ace-tate",children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(l.b,{to:"/",children:"Browse Frames"})}),Object(m.jsx)("li",{children:Object(m.jsx)(l.b,{to:"/wishlist",children:"Wishlist"})})]})}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{exact:!0,path:"/",children:Object(m.jsx)(O,{frames:i,favourites:c,addFavourite:function(e){r((function(t){return Object(s.a)(new Set([].concat(Object(s.a)(t),[e])))}))},removeFavourite:function(e){r(c.filter((function(t){return t!==e})))}})}),Object(m.jsx)(u.a,{path:"/wishlist",children:Object(m.jsx)(x,{frames:i,favourites:c})})]})]})})}var g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,62)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root")),g()}},[[61,1,2]]]);
//# sourceMappingURL=main.8f7e5e80.chunk.js.map
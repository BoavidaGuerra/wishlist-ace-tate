{"version":3,"sources":["logo.svg","btn_like.svg","btn_like_active.svg","Frame.js","FramesList.js","Wishlist.js","App.js","useStoreState.js","fetchFrames.js","reportWebVitals.js","index.js"],"names":["Frame","props","frame","favourites","addFavourite","removeFavourite","location","useState","active","setActive","buttonRef","useRef","useEffect","includes","id","current","src","buttonActive","className","undefined","frontImageUrl","logo","alt","name","color","onClick","prevActive","button","tabIndex","role","ref","title","Frames","frames","map","Wishlist","useLocation","filteredFavs","reduce","push","console","log","pathname","App","defaultValue","key","storeValue","window","localStorage","getItem","JSON","parse","value","setValue","setItem","stringify","useStoreState","setFavourites","setFrames","loading","setLoading","error","setError","cancel","axios","method","url","cancelToken","CancelToken","c","then","results","availableFrames","data","filter","currentVariant","availability","isAvailableOnline","prevFrames","displayAttributes","images","front","catch","e","isCancel","fetchFrames","basename","process","to","exact","path","frameId","prevFavourites","Set","item","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8QAAe,UAA0B,iCCA1B,MAA0B,qCCA1B,MAA0B,4C,OCK1B,SAASA,EAAMC,GAAQ,IAGlCC,EAKED,EALFC,MACAC,EAIEF,EAJFE,WACAC,EAGEH,EAHFG,aACAC,EAEEJ,EAFFI,gBACAC,EACEL,EADFK,SAPiC,EAUPC,oBAAS,GAVF,mBAU5BC,EAV4B,KAUpBC,EAVoB,KAW7BC,EAAYC,mBAwBlB,OATAC,qBAAU,WACS,cAAbN,GACEH,EAAWU,SAASX,EAAMY,MAC5BL,GAAU,GACVC,EAAUK,QAAQC,IAAMC,KAG3B,IAGD,sBAAKH,GAAIZ,EAAMY,GAAII,UAAU,yBAA7B,UACE,qBAAKA,UAAU,qBAAf,SACE,qBACAF,SAA6BG,IAAxBjB,EAAMkB,cAA8BC,EAAOnB,EAAMkB,cACtDE,IAAG,UAAKpB,EAAMqB,KAAX,sBAA6BrB,EAAMsB,WAGxC,sBAAKN,UAAU,eAAf,UACiB,cAAbZ,GACF,qBACEmB,QAjCY,WACbjB,IACHJ,EAAaF,EAAMY,IACnBL,GAAU,SAAAiB,GAAU,OAAKA,KACzBhB,EAAUK,QAAQC,IAAMC,GAEtBT,IACFH,EAAgBH,EAAMY,IACtBL,GAAU,SAAAiB,GAAU,OAAKA,KACzBhB,EAAUK,QAAQC,IAAMW,IAyBpBC,SAAS,IACTC,KAAK,SAHP,SAII,qBACAC,IAAKpB,EACLM,IAAKW,EACLL,IAAI,OAIR,sBAAKJ,UAAU,mBAAmBa,MAAK,UAAK7B,EAAMqB,KAAX,YAAmBrB,EAAMsB,OAAhE,UACE,iCAAStB,EAAMqB,OACf,qCAAQrB,EAAMsB,kBC5DT,SAASQ,EAAO/B,GAAQ,IAEnCgC,EAIEhC,EAJFgC,OACA9B,EAGEF,EAHFE,WACAC,EAEEH,EAFFG,aACAC,EACEJ,EADFI,gBAGF,OACE,sBAAKa,UAAU,OAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,yDACA,8BACE,0NAGJ,qBAAKA,UAAU,eAAf,SACGe,EAAOC,KAAI,SAAAhC,GAAK,OACf,cAACF,EAAD,CAEEE,MAAOA,EACPC,WAAYA,EACZC,aAAcA,EACdC,gBAAiBA,GAJZH,EAAMY,YClBR,SAASqB,EAASlC,GAAQ,IAC/BgC,EAAuBhC,EAAvBgC,OAAQ9B,EAAeF,EAAfE,WACVG,EAAW8B,cAEXC,EAAeJ,EAAOK,QAAO,SAACpC,EAAD,GAClC,IAD4CY,EAC7C,EAD6CA,GAAIS,EACjD,EADiDA,KAAMC,EACvD,EADuDA,MAAOJ,EAC9D,EAD8DA,cAG1D,OADAjB,EAAWU,SAASC,IAAOZ,EAAMqC,KAAK,CAAEzB,KAAIS,OAAMC,QAAOJ,kBAClDlB,IACR,IAEH,OADAsC,QAAQC,IAAInC,EAASoC,UAEnB,sBAAKxB,UAAU,OAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,0CACA,8BACE,iGAGJ,qBAAKA,UAAU,eAAf,SACGmB,EAAaH,KAAI,SAAAhC,GAAK,OACrB,cAACF,EAAD,CAEEE,MAAOA,EACPI,SAAUA,EAASoC,SACnBvC,WAAYA,GAHPD,EAAMY,Y,MCZR,SAAS6B,IAAO,IAAD,ECXf,SAAuBC,EAAcC,GAAM,IAAD,EAC7BtC,oBAAS,WACjC,IAAMuC,EAAaC,OAAOC,aAAaC,QAAQJ,GAC/C,OAAsB,OAAfC,EACHI,KAAKC,MAAML,GACXF,KALiD,mBAChDQ,EADgD,KACzCC,EADyC,KAYvD,OAJAzC,qBAAU,WACRmC,OAAOC,aAAaM,QAAQT,EAAKK,KAAKK,UAAUH,MAC/C,CAACP,EAAKO,IAEF,CAACA,EAAOC,GDAqBG,CAAc,GAAI,cAD1B,mBACrBrD,EADqB,KACTsD,EADS,KAEpBxB,EEZK,WACb,IADoC,EAIR1B,mBAAS,IAJD,mBAI7B0B,EAJ6B,KAIrByB,EAJqB,OAMNnD,oBAAS,GANH,mBAM7BoD,EAN6B,KAMpBC,EANoB,OAQVrD,oBAAS,GARC,mBAQ7BsD,EAR6B,KAQtBC,EARsB,KA+DpC,OApDAlD,qBAAU,WACR8C,EAAU,MACT,IAIH9C,qBAAU,WAKR,IAAImD,EAsCJ,OA1CAvB,QAAQC,IAAI,iBACZmB,GAAW,GACXE,GAAS,GAITE,IAAM,CACJC,OAAQ,MACRC,IAAI,GAAD,OAzBK,0GA0BRC,YAAa,IAAIH,IAAMI,aAAY,SAAAC,GAAC,OAAIN,EAASM,OAElDC,MAAK,SAAAC,GAAY,IAERC,EADqBD,EAAnBE,KAAQA,KACaC,QAAO,SAAAxE,GACnC,OAGyB,IAHlBA,EACJyE,eACAC,aACAC,qBAEJnB,GAAU,SAAAoB,GACR,MAAM,GAAN,mBAAWA,GAAX,YAA0BN,EAAgBtC,KAAI,SAAAhC,GAAU,IAAD,EAYjDA,EAVFyE,eACE7D,EAHiD,EAGjDA,GACAS,EAJiD,EAIjDA,KACqBC,EAL4B,EAKjDuD,kBAAqBvD,MAL4B,IAMjDwD,OACEC,MAMN,MAAO,CAAEnE,KAAIS,OAAMC,QAAOJ,eAb2B,aAS3C,GAT2C,GAQ7C8C,aAQZN,GAAW,MACZsB,OAAM,SAAAC,GACCnB,IAAMoB,SAASD,IACjBrB,GAAS,MAGV,kBAAMC,OACZ,IAEI,CAAEJ,UAASE,QAAO5B,UFnDNoD,GAAXpD,OAYR,OACE,cAAC,IAAD,CAAQqD,SAAUC,qBAAlB,SACE,sBAAKrE,UAAU,MAAf,UACE,8BACE,+BACE,6BACE,cAAC,IAAD,CAAMsE,GAAG,IAAT,6BAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,YAAT,6BAKN,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC1D,EAAD,CACEC,OAAQA,EACR9B,WAAYA,EACZC,aA7BS,SAACuF,GACpBlC,GAAc,SAAAmC,GACZ,OAAO,YAAI,IAAIC,IAAJ,sBAAYD,GAAZ,CAA4BD,UA4B/BtF,gBAxBY,SAACsF,GACvBlC,EAActD,EAAWuE,QAAO,SAACoB,GAAD,OAAUA,IAASH,WA0B7C,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,YAAlB,SACE,cAACvD,EAAD,CACEF,OAAQA,EACR9B,WAAYA,cGrD1B,IAYe4F,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3B,MAAK,YAAkD,IAA/C4B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.96b4d881.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c7ae4593.svg\";","export default __webpack_public_path__ + \"static/media/btn_like.9319ea68.svg\";","export default __webpack_public_path__ + \"static/media/btn_like_active.c85b155f.svg\";","import React, { useRef, useState, useEffect } from 'react'\nimport logo from './logo.svg'\nimport button from './btn_like.svg'\nimport buttonActive from './btn_like_active.svg'\n\nexport default function Frame(props) {\n\n  const {\n    frame,\n    favourites,\n    addFavourite,\n    removeFavourite,\n    location\n  } = props;\n\n  const [active, setActive] = useState(false);\n  const buttonRef = useRef();\n\n  const handleClick = () => {\n    if (!active) {\n      addFavourite(frame.id);\n      setActive(prevActive => !prevActive)\n      buttonRef.current.src = buttonActive\n    }\n    if (active) {\n      removeFavourite(frame.id)\n      setActive(prevActive => !prevActive)\n      buttonRef.current.src = button\n    }\n  }\n\n  useEffect(() => {\n    if (location !== \"/wishlist\") {\n      if (favourites.includes(frame.id)) {\n        setActive(true);\n        buttonRef.current.src = buttonActive;\n      }\n    }\n  }, [])\n\n  return (\n    <div id={frame.id} className=\"product-card_container\">\n      <div className=\"product-card_image\">\n        <img\n        src={frame.frontImageUrl === undefined ? logo : frame.frontImageUrl}\n        alt={`${frame.name} frames in ${frame.color}`}\n        />\n      </div>\n      <div className=\"product-card\">\n        {(location !== \"/wishlist\") && (\n        <div\n          onClick={handleClick}\n          tabIndex=\"0\"\n          role=\"button\">\n            <img\n            ref={buttonRef}\n            src={button}\n            alt=\"\"\n            />\n        </div>\n        )}\n        <div className=\"card-description\" title={`${frame.name} ${frame.color}`}>\n          <strong>{frame.name}</strong>\n          <span> {frame.color}</span>\n        </div>\n      </div>\n    </div>\n\n  )\n}\n","import React from 'react';\nimport Frame from './Frame';\n\nexport default function Frames(props) {\n  const {\n    frames,\n    favourites,\n    addFavourite,\n    removeFavourite\n  } = props;\n\n  return (\n    <div className=\"main\">\n      <div className=\"product-header\">\n        <h1>Full glasses collection</h1>\n        <div>\n          <p>Eyewear for every side of you, thoughtfully designed in Amsterdam. Browse our full collection of prescription glasses online. Starting from â‚¬100 including prescription lenses.</p>\n        </div>\n      </div>\n      <div className=\"product-grid\">\n        {frames.map(frame => (\n          <Frame\n            key={frame.id}\n            frame={frame}\n            favourites={favourites}\n            addFavourite={addFavourite}\n            removeFavourite={removeFavourite}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport { useLocation } from 'react-router-dom'\nimport Frame from './Frame';\n\nexport default function Wishlist(props) {\n  const { frames, favourites } = props\n  const location = useLocation();\n\n  const filteredFavs = frames.reduce((frame, { id, name, color, frontImageUrl }) =>\n  {\n      favourites.includes(id) && frame.push({ id, name, color, frontImageUrl });\n      return frame;\n  }, []);\n  console.log(location.pathname)\n  return (\n    <div className=\"main\">\n      <div className=\"wishlist product-header\">\n        <h1>Wishlist</h1>\n        <div>\n          <p>Welcome to your Wishlist. Your favourites all in one place.</p>\n        </div>\n      </div>\n      <div className=\"product-grid\">\n        {filteredFavs.map(frame => (\n          <Frame\n            key={frame.id}\n            frame={frame}\n            location={location.pathname}\n            favourites={favourites}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport useStoreState from './useStoreState';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport fetchFrames from './fetchFrames';\nimport FramesList from './FramesList';\nimport Wishlist from './Wishlist';\nimport './App.css';\n\nexport default function App() {\n  const [favourites, setFavourites] = useStoreState([], \"favourites\");\n  const { frames } = fetchFrames();\n\n  const addFavourite = (frameId) => {\n    setFavourites(prevFavourites => {\n      return [...new Set([...prevFavourites, frameId])]\n    })\n  }\n\n  const removeFavourite = (frameId) => {\n    setFavourites(favourites.filter((item) => item !== frameId))\n  }\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"/\">Browse Frames</Link>\n            </li>\n            <li>\n              <Link to=\"/wishlist\">Wishlist</Link>\n            </li>\n          </ul>\n        </nav>\n\n        <Switch>\n          <Route exact path=\"/\">\n            <FramesList\n              frames={frames}\n              favourites={favourites}\n              addFavourite={addFavourite}\n              removeFavourite={removeFavourite}\n            />\n          </Route>\n          <Route exact path=\"/wishlist\">\n            <Wishlist\n              frames={frames}\n              favourites={favourites}\n            />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n","import { useState, useEffect } from 'react'\n\nexport default function useStoreState(defaultValue, key) {\n  const [value, setValue] = useState(() => {\n    const storeValue = window.localStorage.getItem(key);\n    return storeValue !== null\n      ? JSON.parse(storeValue)\n      : defaultValue;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n\n  return [value, setValue];\n}\n","import { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function fetchFrames() {\n  const url = \"https://www.aceandtate.show/torii/catalog/v1/products/exploded/frames?country-code=nl&language-code=en\"\n  // const url = \"https://www.aceandtate.show/torii/catalog/v1/products/filter?sku=neil-satin-silver&sku=pierce-fizz&country-code=nl&language-code=en\"\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const [frames, setFrames] = useState([]);\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const [loading, setLoading] = useState(true);\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const [error, setError] = useState(false);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useEffect(() => {\n    setFrames([])\n  }, [])\n\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useEffect(() => {\n    console.log(\"I was fetched\");\n    setLoading(true);\n    setError(false);\n\n    let cancel\n\n    axios({\n      method: 'GET',\n      url: `${url}`,\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    })\n    .then(results => {\n        const { data: { data } } = results\n        const availableFrames = data.filter(frame => {\n         return frame\n           .currentVariant\n           .availability\n           .isAvailableOnline === true\n        });\n        setFrames(prevFrames => {\n          return [...prevFrames, ...availableFrames.map(frame => {\n            const {\n              currentVariant: {\n                id,\n                name,\n                displayAttributes: { color },\n                images: {\n                  front: {\n                    url: frontImageUrl,\n                  } = \"\"\n                }\n              }\n            } = frame\n            return { id, name, color, frontImageUrl }\n          })]\n        })\n        setLoading(false)\n    }).catch(e => {\n          if (axios.isCancel(e)) return\n            setError(true)\n    })\n\n    return () => cancel()\n  }, [])\n\n  return { loading, error, frames }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}